<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–û–ì–≠ –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ 2024 | –ü–æ–ª–Ω—ã–π –∫—É—Ä—Å</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #4cc9f0;
            --secondary: #4361ee;
            --accent: #7209b7;
            --success: #00b894;
            --danger: #ff7675;
            --warning: #fdcb6e;
            --text-main: #ffffff;
            --text-muted: #e0e0e0;
            --card-bg: rgba(255, 255, 255, 0.08);
            --card-border: rgba(255, 255, 255, 0.15);
            --bg-gradient: radial-gradient(circle at top left, #101025, #16213e, #0f3460);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg-gradient);
            color: var(--text-main);
            min-height: 100vh;
            overflow-x: hidden;
            font-size: 18px;
            line-height: 1.6;
        }

        /* === –§–û–ù–û–í–ê–Ø –ê–ù–ò–ú–ê–¶–ò–Ø === */
        .background-shapes {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
            pointer-events: none;
        }

        .shape {
            position: absolute;
            opacity: 0.15;
            animation: float linear infinite;
        }

        .shape.symbol {
            font-family: 'JetBrains Mono', monospace;
            font-weight: bold;
            color: var(--primary);
        }

        /* –§–∏–≥—É—Ä—ã */
        .shape.triangle {
            width: 0; height: 0;
            border-left: 15px solid transparent;
            border-right: 15px solid transparent;
            border-bottom: 25px solid var(--secondary);
        }
        .shape.circle {
            width: 30px; height: 30px;
            border: 3px solid var(--accent);
            border-radius: 50%;
        }
        .shape.square {
            width: 25px; height: 25px;
            border: 3px solid var(--success);
        }

        @keyframes float {
            0% { transform: translateY(110vh) rotate(0deg) scale(0.8); opacity: 0; }
            20% { opacity: 0.2; }
            80% { opacity: 0.2; }
            100% { transform: translateY(-10vh) rotate(360deg) scale(1.2); opacity: 0; }
        }

        /* === UI === */
        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        /* Header */
        header {
            background: rgba(20, 20, 40, 0.6);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--card-border);
            border-radius: 24px;
            padding: 30px 20px;
            margin-bottom: 30px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }

        .logo {
            font-size: 2.2rem;
            font-weight: 800;
            background: linear-gradient(to right, #fff, var(--primary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
            display: inline-block;
        }

        .subtitle {
            color: var(--text-muted);
            font-size: 1.1rem;
        }

        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
        .nav-scroll {
            overflow-x: auto;
            padding-bottom: 5px;
            margin-top: 20px;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
        }
        .nav-scroll::-webkit-scrollbar { display: none; }

        .nav-container {
            display: flex;
            gap: 10px;
            min-width: max-content;
            justify-content: center;
        }

        @media (max-width: 768px) {
            .nav-container { justify-content: flex-start; padding: 0 10px; }
        }

        .nav-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--card-border);
            color: var(--text-main);
            padding: 14px 24px;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            font-size: 1rem;
        }

        .nav-btn.active {
            background: var(--secondary);
            border-color: var(--secondary);
            box-shadow: 0 0 20px rgba(67, 97, 238, 0.4);
        }

        /* –ö–æ–Ω—Ç–µ–Ω—Ç */
        .content-section {
            display: none;
            animation: fadeIn 0.4s ease-out;
        }
        .content-section.active { display: block; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 25px;
        }

        .card {
            background: var(--card-bg);
            backdrop-filter: blur(12px);
            border: 1px solid var(--card-border);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
            transition: transform 0.3s;
        }

        .card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
        }

        h2 {
            font-size: 2rem;
            margin-bottom: 25px;
            color: var(--primary);
            border-left: 5px solid var(--secondary);
            padding-left: 15px;
        }

        h3 {
            color: var(--text-main);
            margin-bottom: 15px;
            font-size: 1.4rem;
        }

        /* –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ */
        .math-block {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 12px;
            font-family: 'JetBrains Mono', monospace;
            text-align: center;
            margin: 15px 0;
            border-left: 3px solid var(--accent);
            font-size: 1.1rem;
        }

        .fraction {
            display: inline-block;
            text-align: center;
            vertical-align: middle;
            margin: 0 4px;
        }
        .fraction .top { border-bottom: 1px solid #fff; display: block; padding: 0 4px; }
        .fraction .bottom { display: block; padding: 0 4px; }
        .sup { vertical-align: super; font-size: 0.7em; }

        /* –¢–∞–±–ª–∏—Ü—ã */
        .math-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            background: rgba(0,0,0,0.2);
            border-radius: 10px;
            overflow: hidden;
        }
        .math-table th, .math-table td {
            padding: 12px;
            border: 1px solid var(--card-border);
            text-align: center;
        }
        .math-table th { background: rgba(67, 97, 238, 0.3); }

        /* –ì–µ–æ–º–µ—Ç—Ä–∏—è */
        .geo-svg {
            stroke: white;
            stroke-width: 2;
            fill: rgba(255,255,255,0.05);
            display: block;
            margin: 0 auto 15px auto;
        }
        .geo-text { fill: #aaa; font-size: 14px; font-family: 'Inter'; stroke: none; }

        /* –§–∏–ª—å—Ç—Ä—ã –∑–∞–¥–∞–Ω–∏–π */
        .practice-filter {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }
        
        .filter-btn {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
            padding: 10px 20px;
            border-radius: 12px;
            font-weight: bold;
            cursor: pointer;
            flex-grow: 1;
            text-align: center;
            transition: 0.3s;
        }

        .filter-btn.active {
            background: var(--primary);
            color: #000;
        }

        /* –ë–ª–æ–∫ –∑–∞–¥–∞–Ω–∏—è */
        .task-item {
            background: rgba(255,255,255,0.05);
            border: 1px solid var(--card-border);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .task-num {
            display: inline-block;
            background: var(--accent);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .answer-box {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .task-input {
            background: rgba(0,0,0,0.3);
            border: 2px solid var(--card-border);
            color: white;
            padding: 12px;
            border-radius: 10px;
            font-size: 1.1rem;
            flex-grow: 1;
            min-width: 150px;
        }

        .check-btn {
            background: var(--success);
            border: none;
            color: white;
            padding: 0 25px;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            transition: 0.2s;
        }

        .result { margin-top: 10px; font-weight: bold; display: none; }
        .result.ok { color: var(--success); display: block; }
        .result.bad { color: var(--danger); display: block; }

        .solution-toggle {
            color: var(--text-muted);
            text-decoration: underline;
            cursor: pointer;
            margin-top: 10px;
            display: inline-block;
            font-size: 0.9rem;
        }
        .solution-content {
            display: none;
            margin-top: 10px;
            padding: 15px;
            background: rgba(67, 97, 238, 0.15);
            border-radius: 10px;
            border-left: 3px solid var(--primary);
        }

        footer {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-muted);
            font-size: 0.9rem;
            border-top: 1px solid var(--card-border);
            margin-top: 40px;
        }

        .tip-card { border-left: 4px solid var(--warning); }
    </style>
</head>
<body>

    <!-- –§–æ–Ω -->
    <div class="background-shapes" id="bgShapes"></div>

    <div class="container">
        <header>
            <div class="logo">–û–ì–≠ <span style="font-weight:300">–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</span></div>
            <p class="subtitle">–¢—Ä–µ–Ω–∞–∂–µ—Ä —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –∑–∞–¥–∞–Ω–∏–π 2024</p>

            <div class="nav-scroll">
                <nav class="nav-container">
                    <div class="nav-btn active" onclick="showSection('algebra')">–ê–ª–≥–µ–±—Ä–∞</div>
                    <div class="nav-btn" onclick="showSection('geometry')">–ì–µ–æ–º–µ—Ç—Ä–∏—è</div>
                    <div class="nav-btn" onclick="showSection('formulas')">–§–æ—Ä–º—É–ª—ã</div>
                    <div class="nav-btn" onclick="showSection('tasks')">–ó–∞–¥–∞–Ω–∏—è 1-19</div>
                    <div class="nav-btn" onclick="showSection('part2')">–ß–∞—Å—Ç—å 2</div>
                    <div class="nav-btn" onclick="showSection('tips')">–ü–æ–¥—Å–∫–∞–∑–∫–∏</div>
                    <div class="nav-btn" onclick="showSection('info')">–ò–Ω—Ñ–æ</div>
                </nav>
            </div>
        </header>

        <!-- –ê–õ–ì–ï–ë–†–ê (–¢–ï–û–†–ò–Ø) -->
        <section id="algebra" class="content-section active">
            <h2>üìä –ê–ª–≥–µ–±—Ä–∞</h2>
            <div class="card-grid">
                <div class="card">
                    <h3>–ö–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ —É—Ä–∞–≤–Ω–µ–Ω–∏—è</h3>
                    <p>–û–±—â–∏–π –≤–∏–¥: ax¬≤ + bx + c = 0</p>
                    <div class="math-block">D = b¬≤ - 4ac</div>
                    <div class="math-block">
                        x‚ÇÅ,‚ÇÇ = <div class="fraction"><span class="top">-b ¬± ‚àöD</span><span class="bottom">2a</span></div>
                    </div>
                </div>

                <div class="card">
                    <h3>–ê—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∏—è</h3>
                    <div class="math-block">a‚Çô = a‚ÇÅ + d(n - 1)</div>
                    <div class="math-block">
                        S‚Çô = <div class="fraction"><span class="top">(a‚ÇÅ + a‚Çô) ¬∑ n</span><span class="bottom">2</span></div>
                    </div>
                </div>

                <div class="card">
                    <h3>–°–≤–æ–π—Å—Ç–≤–∞ —Å—Ç–µ–ø–µ–Ω–µ–π</h3>
                    <div class="math-block">a<span class="sup">n</span> ¬∑ a<span class="sup">m</span> = a<span class="sup">n+m</span></div>
                    <div class="math-block">a<span class="sup">n</span> : a<span class="sup">m</span> = a<span class="sup">n-m</span></div>
                    <div class="math-block">(a<span class="sup">n</span>)<span class="sup">m</span> = a<span class="sup">nm</span></div>
                </div>
            </div>
        </section>

        <!-- –ì–ï–û–ú–ï–¢–†–ò–Ø (–¢–ï–û–†–ò–Ø) -->
        <section id="geometry" class="content-section">
            <h2>üìê –ì–µ–æ–º–µ—Ç—Ä–∏—è</h2>
            <div class="card-grid">
                <div class="card">
                    <h3>–¢–µ–æ—Ä–µ–º–∞ –ü–∏—Ñ–∞–≥–æ—Ä–∞</h3>
                    <svg class="geo-svg" width="200" height="120" viewBox="0 0 200 120">
                        <polygon points="20,100 180,100 20,20" fill="none" />
                        <rect x="20" y="90" width="10" height="10" fill="none" stroke="white"/>
                        <text x="10" y="60" class="geo-text">a</text>
                        <text x="100" y="115" class="geo-text">b</text>
                        <text x="100" y="50" class="geo-text">c</text>
                    </svg>
                    <div class="math-block">c¬≤ = a¬≤ + b¬≤</div>
                </div>

                <div class="card">
                    <h3>–ü–ª–æ—â–∞–¥—å —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–∞</h3>
                    <div class="math-block">S = <div class="fraction"><span class="top">1</span><span class="bottom">2</span></div> a ¬∑ h</div>
                </div>

                <div class="card">
                    <h3>–û–∫—Ä—É–∂–Ω–æ—Å—Ç—å</h3>
                    <p>–î–ª–∏–Ω–∞ –æ–∫—Ä—É–∂–Ω–æ—Å—Ç–∏: C = 2œÄR</p>
                    <p>–ü–ª–æ—â–∞–¥—å –∫—Ä—É–≥–∞: S = œÄR¬≤</p>
                </div>
            </div>
        </section>

        <!-- –§–û–†–ú–£–õ–´ -->
        <section id="formulas" class="content-section">
            <h2>üìù –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫</h2>
            <div class="card-grid">
                <div class="card">
                    <h3>–§–°–£</h3>
                    <div class="math-block">(a + b)¬≤ = a¬≤ + 2ab + b¬≤</div>
                    <div class="math-block">(a - b)¬≤ = a¬≤ - 2ab + b¬≤</div>
                    <div class="math-block">a¬≤ - b¬≤ = (a - b)(a + b)</div>
                </div>
                
                <div class="card">
                    <h3>–¢—Ä–∏–≥–æ–Ω–æ–º–µ—Ç—Ä–∏—è</h3>
                    <table class="math-table">
                        <tr><th>Œ±</th><th>30¬∞</th><th>45¬∞</th><th>60¬∞</th></tr>
                        <tr><td>sin</td><td>1/2</td><td>‚àö2/2</td><td>‚àö3/2</td></tr>
                        <tr><td>cos</td><td>‚àö3/2</td><td>‚àö2/2</td><td>1/2</td></tr>
                    </table>
                </div>

                <div class="card">
                    <h3>–¢–∞–±–ª–∏—Ü–∞ –∫–≤–∞–¥—Ä–∞—Ç–æ–≤</h3>
                    <table class="math-table">
                        <tr><td>11¬≤ = 121</td><td>12¬≤ = 144</td><td>13¬≤ = 169</td></tr>
                        <tr><td>14¬≤ = 196</td><td>15¬≤ = 225</td><td>16¬≤ = 256</td></tr>
                        <tr><td>20¬≤ = 400</td><td>25¬≤ = 625</td><td>30¬≤ = 900</td></tr>
                    </table>
                </div>
            </div>
        </section>

        <!-- –ü–†–ê–ö–¢–ò–ö–ê (–ì–ï–ù–ï–†–ê–¢–û–†) -->
        <section id="tasks" class="content-section">
            <h2>‚úÖ –ó–∞–¥–∞–Ω–∏—è 1-19</h2>
            
            <div class="practice-filter">
                <button class="filter-btn active" onclick="generateTasks('prob')">–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å</button>
                <button class="filter-btn" onclick="generateTasks('alg')">–ê–ª–≥–µ–±—Ä–∞</button>
                <button class="filter-btn" onclick="generateTasks('geo')">–ì–µ–æ–º–µ—Ç—Ä–∏—è</button>
            </div>
            
            <p style="text-align:center; color: var(--text-muted); margin-bottom: 20px; font-size: 0.9em;">–ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–ª–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É –∑–∞–¥–∞–Ω–∏—è –º–µ–Ω—è—é—Ç—Å—è</p>

            <div id="tasks-container">
                <!-- –ó–∞–¥–∞–Ω–∏—è –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Å–∫—Ä–∏–ø—Ç–æ–º -->
            </div>
        </section>

        <!-- –ß–ê–°–¢–¨ 2 -->
        <section id="part2" class="content-section">
            <h2>üìù –ß–∞—Å—Ç—å 2 (–†–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–π –æ—Ç–≤–µ—Ç)</h2>
            <div class="card">
                <span class="task-num">–ó–∞–¥–∞–Ω–∏–µ 20</span>
                <p><strong>–†–µ—à–∏—Ç–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ: x¬≤ - 2x + ‚àö(3-x) = ‚àö(3-x) + 8</strong></p>
                <div class="solution-toggle" onclick="toggleSol(this)">–ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ</div>
                <div class="solution-content">
                    <p>1. –û–î–ó: 3 - x ‚â• 0 ‚áí x ‚â§ 3</p>
                    <p>2. –£–ø—Ä–æ—â–∞–µ–º: x¬≤ - 2x - 8 = 0</p>
                    <p>3. –ö–æ—Ä–Ω–∏: x = 4, x = -2</p>
                    <p>4. –ü—Ä–æ–≤–µ—Ä–∫–∞: 4 > 3 (–Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç). -2 ‚â§ 3 (–ø–æ–¥—Ö–æ–¥–∏—Ç).</p>
                    <p><strong>–û—Ç–≤–µ—Ç: -2</strong></p>
                </div>
            </div>
        </section>

        <!-- –ü–û–î–°–ö–ê–ó–ö–ò -->
        <section id="tips" class="content-section">
            <h2>üí° –õ–∞–π—Ñ—Ö–∞–∫–∏</h2>
            <div class="card-grid">
                <div class="card tip-card">
                    <h3>–ö–≤–∞–¥—Ä–∞—Ç –Ω–∞ 5</h3>
                    <p>35¬≤: 3¬∑(3+1)=12, –¥–æ–ø–∏—Å—ã–≤–∞–µ–º 25 ‚áí 1225</p>
                    <p>65¬≤: 6¬∑7=42, –¥–æ–ø–∏—Å—ã–≤–∞–µ–º 25 ‚áí 4225</p>
                </div>
                <div class="card tip-card">
                    <h3>–¢–∞–π–º–∏–Ω–≥</h3>
                    <p>‚Ä¢ –ê–ª–≥–µ–±—Ä–∞: 30 –º–∏–Ω</p>
                    <p>‚Ä¢ –ì–µ–æ–º–µ—Ç—Ä–∏—è: 30 –º–∏–Ω</p>
                    <p>‚Ä¢ –ß–∞—Å—Ç—å 2: –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è</p>
                </div>
            </div>
        </section>
        
        <!-- –ò–ù–§–û -->
        <section id="info" class="content-section">
            <h2>‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
            <div class="card">
                <h3>–ë–∞–ª–ª—ã</h3>
                <ul style="list-style: none; line-height: 2;">
                    <li><strong>3</strong>: 8-14 –±–∞–ª–ª–æ–≤ (–º–∏–Ω–∏–º—É–º 2 –≥–µ–æ–º–µ—Ç—Ä–∏–∏)</li>
                    <li><strong>4</strong>: 15-21 –±–∞–ª–ª</li>
                    <li><strong>5</strong>: 22-31 –±–∞–ª–ª</li>
                </ul>
            </div>
        </section>

        <footer>
            ¬© 2024 –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –û–ì–≠. –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤.
        </footer>
    </div>

    <script>
        // === –ì–ï–ù–ï–†–ê–¶–ò–Ø –§–û–ù–ê ===
        function createShapes() {
            const container = document.getElementById('bgShapes');
            const symbols = ['œÄ', '‚à´', '‚àë', '‚àö', 'Œ±', 'Œ≤', 'x'];
            
            for (let i = 0; i < 40; i++) {
                const el = document.createElement('div');
                el.classList.add('shape');
                
                const rand = Math.random();
                if (rand < 0.3) el.classList.add('triangle');
                else if (rand < 0.6) el.classList.add('circle');
                else if (rand < 0.8) el.classList.add('square');
                else {
                    el.classList.add('symbol');
                    el.innerText = symbols[Math.floor(Math.random() * symbols.length)];
                    el.style.fontSize = (Math.random() * 20 + 20) + 'px';
                }

                el.style.left = Math.random() * 100 + '%';
                el.style.animationDuration = (Math.random() * 20 + 15) + 's';
                el.style.animationDelay = '-' + (Math.random() * 20) + 's';
                container.appendChild(el);
            }
        }

        // === UI –§–£–ù–ö–¶–ò–ò ===
        function showSection(id) {
            document.querySelectorAll('.content-section').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            
            if(id === 'tasks') generateTasks('prob'); 
        }

        function toggleSol(el) {
            const content = el.nextElementSibling;
            if (content.style.display === 'block') {
                content.style.display = 'none';
                el.innerText = '–ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ';
            } else {
                content.style.display = 'block';
                el.innerText = '–°–∫—Ä—ã—Ç—å —Ä–µ—à–µ–Ω–∏–µ';
            }
        }

        // === –ì–ï–ù–ï–†–ê–¢–û–† –ó–ê–î–ê–ù–ò–ô ===
        function rand(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        // –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤ –∑–∞–¥–∞–Ω–∏–π
        const taskTemplates = {
            prob: [ // –í–ï–†–û–Ø–¢–ù–û–°–¢–¨
                () => {
                    const total = rand(20, 60);
                    const n = [10, 20, 25, 40, 50][rand(0, 4)]; // –ö—Ä–∞—Å–∏–≤—ã–π –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å
                    const m = rand(1, n/2);
                    return {
                        text: `–í —Ñ–∏—Ä–º–µ —Ç–∞–∫—Å–∏ ${n} –º–∞—à–∏–Ω: ${m} —á–µ—Ä–Ω—ã—Ö, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∂–µ–ª—Ç—ã–µ. –ù–∞–π–¥–∏—Ç–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å, —á—Ç–æ –ø—Ä–∏–µ–¥–µ—Ç —á–µ—Ä–Ω–∞—è –º–∞—à–∏–Ω–∞.`,
                        ans: (m/n).toString().replace('.', ','),
                        sol: `P = m/n = ${m}/${n} = ${m/n}`
                    };
                },
                () => {
                    const n = [10, 20][rand(0, 1)];
                    const k = rand(1, n-1);
                    return {
                        text: `–í —Ç–∞—Ä–µ–ª–∫–µ ${n} –ø–∏—Ä–æ–∂–∫–æ–≤: ${k} —Å –º—è—Å–æ–º, –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å –∫–∞–ø—É—Å—Ç–æ–π. –ù–∞–π–¥–∏—Ç–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–±–æ—Ä–∞ –ø–∏—Ä–æ–∂–∫–∞ —Å –º—è—Å–æ–º.`,
                        ans: (k/n).toString().replace('.', ','),
                        sol: `–ë–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω—ã—Ö: ${k}. –í—Å–µ–≥–æ: ${n}. P = ${k/n}`
                    };
                },
                () => {
                    const sides = rand(100, 500);
                    const defects = rand(2, 10);
                    const freq = (defects/sides).toFixed(3); // –ß–∞—Å—Ç–æ—Ç–∞
                    return {
                        text: `–ò–∑ –∫–∞–∂–¥—ã—Ö ${sides} –ª–∞–º–ø–æ—á–µ–∫ –≤ —Å—Ä–µ–¥–Ω–µ–º ${defects} –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω—ã. –ù–∞–π–¥–∏—Ç–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –∫—É–ø–∏—Ç—å –∏—Å–ø—Ä–∞–≤–Ω—É—é –ª–∞–º–ø–æ—á–∫—É (–æ–∫—Ä—É–≥–ª–∏—Ç–µ –¥–æ —Å–æ—Ç—ã—Ö).`,
                        ans: (1 - defects/sides).toFixed(2).replace('.', ','),
                        sol: `–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –±—Ä–∞–∫–∞: ${defects}/${sides}. –ò—Å–ø—Ä–∞–≤–Ω—ã—Ö: 1 - ${defects/sides} ‚âà ${(1 - defects/sides).toFixed(2)}`
                    };
                }
            ],
            alg: [ // –ê–õ–ì–ï–ë–†–ê
                () => {
                    const x = rand(-10, 10);
                    const a = rand(2, 9);
                    const b = rand(1, 50);
                    const res = a * x + b;
                    return {
                        text: `–†–µ—à–∏—Ç–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ: ${a}x + ${b} = ${res}`,
                        ans: x.toString(),
                        sol: `${a}x = ${res - b} ‚áí x = ${x}`
                    };
                },
                () => {
                    const x = rand(2, 15);
                    const sq = x * x;
                    return {
                        text: `–†–µ—à–∏—Ç–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ: x¬≤ - ${sq} = 0. –í –æ—Ç–≤–µ—Ç –∑–∞–ø–∏—à–∏—Ç–µ –º–µ–Ω—å—à–∏–π –∫–æ—Ä–µ–Ω—å.`,
                        ans: (-x).toString(),
                        sol: `x = ¬±${x}. –ú–µ–Ω—å—à–∏–π: -${x}`
                    };
                },
                () => {
                    const x1 = rand(-5, 5);
                    const x2 = rand(-5, 5);
                    const b = -(x1 + x2);
                    const c = x1 * x2;
                    return {
                        text: `–ù–∞–π–¥–∏—Ç–µ –∫–æ—Ä–Ω–∏ —É—Ä–∞–≤–Ω–µ–Ω–∏—è: x¬≤ ${b>=0?'+'+b:b}x ${c>=0?'+'+c:c} = 0. –í –æ—Ç–≤–µ—Ç –∑–∞–ø–∏—à–∏—Ç–µ –∏—Ö —Å—É–º–º—É.`,
                        ans: (x1+x2).toString(),
                        sol: `–ü–æ —Ç–µ–æ—Ä–µ–º–µ –í–∏–µ—Ç–∞ —Å—É–º–º–∞ –∫–æ—Ä–Ω–µ–π —Ä–∞–≤–Ω–∞ -b. –û—Ç–≤–µ—Ç: ${x1+x2}`
                    };
                }
            ],
            geo: [ // –ì–ï–û–ú–ï–¢–†–ò–Ø
                () => {
                    const a1 = rand(20, 80);
                    const a2 = rand(20, 80);
                    const a3 = 180 - a1 - a2;
                    return {
                        text: `–í —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–µ –¥–≤–∞ —É–≥–ª–∞ —Ä–∞–≤–Ω—ã ${a1}¬∞ –∏ ${a2}¬∞. –ù–∞–π–¥–∏—Ç–µ —Ç—Ä–µ—Ç–∏–π —É–≥–æ–ª.`,
                        ans: a3.toString(),
                        sol: `180 - (${a1} + ${a2}) = ${a3}`
                    };
                },
                () => {
                    const a = rand(3, 15);
                    const b = rand(3, 15);
                    const s = 0.5 * a * b;
                    return {
                        text: `–ù–∞–π–¥–∏—Ç–µ –ø–ª–æ—â–∞–¥—å –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–æ–≥–æ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–∞ —Å –∫–∞—Ç–µ—Ç–∞–º–∏ ${a} –∏ ${b}.`,
                        ans: s.toString().replace('.', ','),
                        sol: `S = 1/2 ¬∑ ${a} ¬∑ ${b} = ${s}`
                    };
                },
                () => {
                    const a = rand(2, 10);
                    const b = rand(12, 30);
                    const m = (a + b) / 2;
                    return {
                        text: `–û—Å–Ω–æ–≤–∞–Ω–∏—è —Ç—Ä–∞–ø–µ—Ü–∏–∏ —Ä–∞–≤–Ω—ã ${a} –∏ ${b}. –ù–∞–π–¥–∏—Ç–µ —Å—Ä–µ–¥–Ω—é—é –ª–∏–Ω–∏—é.`,
                        ans: m.toString().replace('.', ','),
                        sol: `(${a} + ${b}) / 2 = ${m}`
                    };
                }
            ]
        };

        function generateTasks(category) {
            const container = document.getElementById('tasks-container');
            container.innerHTML = '';
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            // –ù–∞—Ö–æ–¥–∏–º –∫–Ω–æ–ø–∫—É –ø–æ onclick –∏ –¥–µ–ª–∞–µ–º –∞–∫—Ç–∏–≤–Ω–æ–π (—É–ø—Ä–æ—â–µ–Ω–Ω–æ –¥–ª—è –¥–µ–º–æ)
            const btns = document.querySelectorAll('.filter-btn');
            if(category === 'prob') btns[0].classList.add('active');
            if(category === 'alg') btns[1].classList.add('active');
            if(category === 'geo') btns[2].classList.add('active');

            const templates = taskTemplates[category];

            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º 30 –∑–∞–¥–∞—á
            for (let i = 1; i <= 30; i++) {
                // –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–π —à–∞–±–ª–æ–Ω –∏–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
                const tempFunc = templates[rand(0, templates.length - 1)];
                const task = tempFunc();

                const html = `
                    <div class="task-item">
                        <span class="task-num">–ó–∞–¥–∞—á–∞ ${i}</span>
                        <p>${task.text}</p>
                        <div class="answer-box">
                            <input type="text" class="task-input" id="ans-${i}" placeholder="–û—Ç–≤–µ—Ç">
                            <button class="check-btn" onclick="checkAnswer(${i}, '${task.ans}')">–û–ö</button>
                        </div>
                        <div id="res-${i}" class="result"></div>
                        <div class="solution-toggle" onclick="toggleSol(this)">–ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ</div>
                        <div class="solution-content">${task.sol}</div>
                    </div>
                `;
                container.innerHTML += html;
            }
        }

        function checkAnswer(id, correct) {
            const input = document.getElementById('ans-' + id);
            const res = document.getElementById('res-' + id);
            const val = input.value.replace(',', '.').trim();
            const corr = correct.replace(',', '.');

            if (val === corr) {
                res.className = 'result ok';
                res.innerText = '–í–µ—Ä–Ω–æ! –ú–æ–ª–æ–¥–µ—Ü.';
                input.style.borderColor = 'var(--success)';
            } else {
                res.className = 'result bad';
                res.innerText = '–û—à–∏–±–∫–∞.';
                input.style.borderColor = 'var(--danger)';
            }
        }

        // –°—Ç–∞—Ä—Ç
        window.onload = function() {
            createShapes();
            showSection('algebra'); // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ—Ç–∫—Ä—ã–≤–∞–µ–º —Ç–µ–æ—Ä–∏—é
        };
    </script>
</body>
</html>